<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-0evHe/X+R7YkIZDRvuzKMRqM+OrBnVFBL6DOitfPri4tjfHxaWutUpFmBp4vmVor" crossorigin="anonymous">
    <title>Mostrar Reporte</title>
</head>
<body>
<br>
<div class="d-flex justify-content-center">
    <form action="/" method="get" class="text-center">
        <input class="btn btn-secondary mx-1" type="submit" value="Volver al menú principal">
    </form>
    <form action="/generarReporte" method="get" class="text-center">
        <input class="btn btn-secondary mx-1" type="submit" value="Ver otro reporte">
    </form>
</div>
<br>

<hr>

<!-- Mostrar mensaje de éxito si existe -->
<div th:if="${mensaje}" class="alert alert-success" style="font-size: 1em; text-align: center;">
    <p th:text="${mensaje}"></p>
</div>

<!-- Mostrar mensaje de error -->
<div th:if="${error}" class="alert alert-danger" style="font-size: 1em; text-align: center;">
    <p th:text="${error}"></p>
</div>


<div class="container mt-4">
    <h1 class="text-center">Reporte Estudiante</h1>
    <hr>
    <form>
        <!-- Iterar a través de los pagos y mostrar cada uno en un formulario estético -->
        <th:block th:each="pago : ${pagos}">
            <div class="border p-3 mb-3">
                <div class="form-group">
                    <label for="rut">RUT</label>
                    <input type="text" class="form-control" id="rut" th:value="${pago.getEstudiante().getRut()}" readonly>
                </div>

                <div class="form-group">
                    <label for="nombreEstudiante">Nombre Estudiante</label>
                    <input type="text" class="form-control" id="nombreEstudiante" th:value="${pago.getEstudiante().getNombre_estudiante() + ' ' + pago.getEstudiante().getApellido_estudiante()}" readonly>
                </div>

                <div class="form-group">
                    <label for="nroExamenes">Nro Examenes Rendidos</label>
                    <input type="text" class="form-control" id="nroExamenes" th:value="${nro_pruebas}" readonly>
                </div>

                <div class="form-group">
                    <label for="puntajeProm">Promedio Puntaje Exámenes</label>
                    <input type="text" class="form-control" id="puntajeProm" th:value="${puntaje_promedio}" readonly>
                </div>

                <div class="form-group">
                    <label for="totalArancel">Monto Total Del Arancel A Pagar</label>
                    <input type="text" class="form-control" id="totalArancel" th:value="${total_arancel}" readonly>
                </div>

                <div class="form-group">
                    <label for="tipoPago">Tipo Pago</label>
                    <input type="text" class="form-control" id="tipoPago" th:value="${pago.getTipo_pago()}" readonly>
                </div>

                <div class="form-group">
                    <label for="cuotasPactadas">Nro Total De Cuotas Pactadas</label>
                    <input type="text" class="form-control" id="cuotasPactadas" th:value="${pago.getNumero_cuota()}" readonly>
                </div>

                <div class="form-group">
                    <label for="cuotasPagadas">Nro Cuotas Pagadas</label>
                    <input type="text" class="form-control" id="cuotasPagadas" th:value="${cuotas_pagadas}" readonly>
                </div>

                <div class="form-group">
                    <label for="montoPagado">Monto Total Pagado</label>
                    <input type="text" class="form-control" id="montoPagado" th:value="${saldo_pagado}" readonly>
                </div>

                <div class="form-group">
                    <label for="ultimoPago">Último Pago</label>
                    <input type="text" class="form-control" id="ultimoPago" th:value="${pago.getUltimo_pago()}" readonly>
                </div>

                <div class="form-group">
                    <label for="saldoPorPagar">Saldo Por Pagar</label>
                    <input type="text" class="form-control" id="saldoPorPagar" th:value="${saldo_pagar}" readonly>
                </div>

                <div class="form-group">
                    <label for="cuotasAtraso">Cuotas Atrasadas</label>
                    <input type="text" class="form-control" id="cuotasAtraso" th:value="${cuotas_atraso}" readonly>
                </div>


            </div>
        </th:block>
    </form>
</div>


<!--

<h1>Reporte Estudiante</h1>
<hr>
-->

<!--
<ul>
   Iterar a través de los pagos y mostrar cada uno en un elemento de lista
    <li th:each="pago : ${pagos}">
        <p>RUT: <span th:text="${pago.getEstudiante().getRut()}"></span></p>
        <p>Nombre Estudiante: <span th:text="${pago.getEstudiante().getNombre_estudiante() + ' ' + pago.getEstudiante().getApellido_estudiante()}"></span></p>
        <p>Nro Examenes Rendidos: <span th:text="${nro_pruebas}"></span></p>
        <p>Promedio Puntaje Exámenes: <span th:text="${puntaje_promedio}"></span></p>
        <p>Monto Total Del Arancel A Pagar: <span th:text="${total_arancel}"></span></p>
        <p>Tipo Pago: <span th:text="${pago.getTipo_pago()}"></span></p>
        <p>Nro Total De Cuotas Pactadas: <span th:text="${pago.getNumero_cuota()}"></span></p>
        <p>Nro Cuotas Pagadas: <span th:text="${cuotas_pagadas}"></span></p>
        <p>Monto Total Pagado: <span th:text="${saldo_pagado}"></span></p>
        <p>Último Pago: <span th:text="${pago.getUltimo_pago()}"></span></p>
        <p>Saldo Por Pagar: <span th:text="${saldo_pagar}"></span></p>
        <p>Cuotas Atrasadas: <span th:text="${cuotas_atraso}"></span></p>
    </li>
</ul>

-->

</body>
</html>